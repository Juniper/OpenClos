# Device port usage based on device family and topology
# qfx5100-24q-2p ports could have 32 ports with two four-port expansion modules
# When used as Fabric, all ports are downlink ports
# When used as Spine in 3-Stage topology, all ports are used as downlink
# When used as Spine in 5-Stage topology, ports are split between uplink and downlink 

deviceFamily:
    qfx5120-48y-8c:
        leaf:
          uplinkPorts: 'et-0/0/[48-55]'
          downlinkPorts: ['xe-0/0/[0-47]', 'ge-0/0/[0-47]', 'et-0/0/[0-47]']
    qfx5120-32c:
        spine:
          uplinkPorts: ['et-0/0/[0-31]','ge-0/0/[0-31]']
          downlinkPorts: ['xe-0/0/[0-33]','ge-0/0/[0-31]','et-0/0/[0-31]']
        leaf:
          uplinkPorts: ['et-0/0/[0-31]','ge-0/0/[0-31]']
          downlinkPorts: ['xe-0/0/[0-33]','ge-0/0/[0-31]','et-0/0/[0-31]']

    qfx5110-32q:
        spine:
          uplinkPorts: 'et-0/0/[16-31]'
          downlinkPorts: 'et-0/0/[0-15]'
        leaf:
          uplinkPorts: 'et-0/0/[28-31]'
          downlinkPorts: ['xe-0/0/[0-27]','ge-0/0/[0-27]','et-0/0/[0-27]']
    qfx5110-48s-4c:
        leaf:
          uplinkPorts: 'et-0/0/[48-51]'
          downlinkPorts: ['xe-0/0/[0-47]','ge-0/0/[0-47]','et-0/0/[0-47]']
    qfx5100-24q-2p:
        fabric:
            uplinkPorts: 
            downlinkPorts: ['et-0/0/[0-23]', 'et-0/1/[0-3]', 'et-0/2/[0-3]']
        spine:
            uplinkPorts: ['et-0/0/[16-23]', 'et-0/1/[0-3]', 'et-0/2/[0-3]']
            downlinkPorts: 'et-0/0/[0-15]'
        leaf:
            uplinkPorts: 'et-0/0/[00-03]'
            downlinkPorts: ['et-0/0/[04-23]', 'et-0/1/[0-3]', 'et-0/2/[0-3]']
    qfx10002-36q:
        fabric:
            uplinkPorts: 
            downlinkPorts: 'et-0/0/[0-35]'
        spine:
            uplinkPorts: 'et-0/0/[18-35]'
            downlinkPorts: 'et-0/0/[0-17]'
        leaf:
            uplinkPorts: 'et-0/0/[18-35]'
            downlinkPorts: 'et-0/0/[0-17]'
    qfx10002-72q:
        fabric:
            uplinkPorts: 
            downlinkPorts: 'et-0/0/[0-71]'
        spine:
            uplinkPorts: 'et-0/0/[36-71]'
            downlinkPorts: 'et-0/0/[0-35]'
        leaf:
            uplinkPorts: 'et-0/0/[36-71]'
            downlinkPorts: 'et-0/0/[0-35]'
    qfx10002-60c:
        fabric:
            uplinkPorts:
            downlinkPorts: 'et-0/0/[0-59]'
        spine:
            uplinkPorts: 'et-0/0/[30-59]'
            downlinkPorts: 'et-0/0/[0-29]'
        leaf:
            uplinkPorts: 'et-0/0/[30-59]'
            downlinkPorts: 'et-0/0/[0-29]'
    qfx10008:
        fabric:
            uplinkPorts: 
            downlinkPorts: 
        spine:
            uplinkPorts: 
            downlinkPorts: 
        leaf:
            uplinkPorts: ['et-0/0/[18-35]', 'et-1/0/[18-35]', 'et-2/0/[18-35]', 'et-3/0/[18-35]', 'et-4/0/[18-35]', 'et-5/0/[18-35]', 'et-6/0/[18-35]', 'et-7/0/[18-35]']
            downlinkPorts: ['et-0/0/[0-17]', 'et-1/0/[0-17]', 'et-2/0/[0-17]', 'et-3/0/[0-17]', 'et-4/0/[0-17]', 'et-5/0/[0-17]', 'et-6/0/[0-17]','et-7/0/[0-17]']          
    #qfx10016:
        #fabric:
            #uplinkPorts:
            #downlinkPorts:
        #spine:
           # uplinkPorts:
            #downlinkPorts:
        #leaf:
            #uplinkPorts: ['et-0/0/[18-35]', 'et-1/0/[18-35]', 'et-2/0/[18-35]', 'et-3/0/[18-35]', 'et-4/0/[18-35]', 'et-5/0/[18-35]', 'et-6/0/[18-3#5]', 'et-7/0/[18-35]','et-8/0/[18-35]','et-9/0/[18-35]']
            #downlinkPorts: ['et-0/0/[0-17]', 'et-1/0/[0-17]', 'et-2/0/[0-17]', 'et-3/0/[0-17]', 'et-4/0/[0-17]', 'et-5/0/[0-17]', 'et-6/0/[0-17]', #'et-7/0/[0-17]','et-8/0/[0-17]','et-9/0/[0-17]']
    qfx5100-48s-6q:
        leaf:
            uplinkPorts: 'et-0/0/[48-53]'
            downlinkPorts: ['xe-0/0/[0-47]', 'ge-0/0/[0-47]']
    qfx5100-48t-6q:
        leaf:
            uplinkPorts: 'et-0/0/[48-53]' 
            downlinkPorts: 'xe-0/0/[0-47]'
    qfx5100-96s-8q:
        leaf:
            uplinkPorts: 'et-0/0/[96-103]'
            downlinkPorts: ['xe-0/0/[0-95]', 'ge-0/0/[0-95]']
    qfx5200-32c-32q:
        spine:
            uplinkPorts: 
            downlinkPorts: 'et-0/0/[00-31]'
        leaf:
            uplinkPorts: 'et-0/0/[00-07]'
            downlinkPorts: 'et-0/0/[08-31]'
    qfx5200-48y:
        leaf:
            uplinkPorts: 'et-0/0/[48-53]'
            downlinkPorts: ['xe-0/0/[00-47]', 'ge-0/0/[00-47]']
    qfx5210-64c:
         spine:
            uplinkPorts:
            downlinkPorts: 'et-0/0/[00-63]'
         leaf:
            uplinkPorts: 'et-0/0/[32-63]'
            downlinkPorts: 'et-0/0/[00-31]'
    ex4300-24p:
        leaf:
            uplinkPorts: 'et-0/1/[0-3]'
            downlinkPorts: 'ge-0/0/[0-23]'
    ex4300-24t:
        leaf:
            uplinkPorts: 'et-0/1/[0-3]'
            downlinkPorts: 'ge-0/0/[0-23]'
    ex4300-32f:
        leaf:
            uplinkPorts: ['et-0/1/[0-1]', 'et-0/2/[0-1]']
            downlinkPorts: 'ge-0/0/[0-31]'
    ex4300-48p:
        leaf:
            uplinkPorts: 'et-0/1/[0-3]'
            downlinkPorts: 'ge-0/0/[0-47]'
    ex4300-48mp:
        leaf:
            uplinkPorts:   ['et-0/2/[0-1]','xe-0/2/[0-4]']
            downlinkPorts: ['ge-0/0/[0-23]','mge-0/0/[23-47]']
    ex4300-48t:
        leaf:
            uplinkPorts: 'et-0/1/[0-3]'
            downlinkPorts: 'ge-0/0/[0-47]'
   
# additional customization of port allocation based on topology
3Stage:
    qfx5100-24q-2p:
        spine:
            uplinkPorts: 
            downlinkPorts: ['et-0/0/[0-23]', 'et-0/1/[0-3]', 'et-0/2/[0-3]']
        leaf:
            uplinkPorts: 'et-0/0/[00-07]'
            downlinkPorts: ['et-0/0/[08-23]', 'et-0/1/[0-3]', 'et-0/2/[0-3]']
    qfx10002-36q:
        spine:
            uplinkPorts:
            downlinkPorts: 'et-0/0/[0-35]'
    qfx10002-72q:
        spine:
            uplinkPorts:
            downlinkPorts: 'et-0/0/[0-71]'
    qfx10002-60c:
        spine:
            uplinkPorts:
            downlinkPorts: 'et-0/0/[0-59]'
    qfx5110-32q:
        spine:
            uplinkPorts:
            downlinkPorts: 'et-0/0/[0-31]'
    qfx5210-64c:
         spine:
            uplinkPorts:
            downlinkPorts: 'et-0/0/[00-63]'
    qfx10008:
        spine:
            # assuming 8 x ULC-36Q-12Q28 used
            # if ULC-30Q28 is used, the port range would change to 'et-*/0/[0-29]'
            uplinkPorts: 
            downlinkPorts: ['et-0/0/[0-35]', 'et-1/0/[0-35]', 'et-2/0/[0-35]', 'et-3/0/[0-35]', 'et-4/0/[0-35]', 'et-5/0/[0-35]', 'et-6/0/[0-35]', 'et-7/0/[0-35]']
    #qfx10016:
       # spine:
            # assuming 8 x ULC-36Q-12Q28 used
            # if ULC-30Q28 is used, the port range would change to 'et-*/0/[0-29]'
           # uplinkPorts:
           # downlinkPorts: ['et-0/0/[0-35]', 'et-1/0/[0-35]', 'et-2/0/[0-35]', 'et-3/0/[0-35]', 'et-4/0/[0-35]', 'et-5/0/[0-35]', 'et-6/0/[0-35]', #'et-7/0/[0-35]','et-8/0/[0-35]','et-9/0/[0-35]']


5Stage:
        
lineCard:
    ULC-30Q28:
        uplinkPorts:   'et-0/0/[16-29]'
        downlinkPorts: 'et-0/0/[0-15]'
    ULC-36Q-12Q28:
        uplinkPorts:   'et-0/0/[18-35]'
        downlinkPorts: 'et-0/0/[0-17]'
    ULC-60S-6Q:
        uplinkPorts: 'et-0/0/[0-59]'
        downlinkPorts: 'et-0/0/[60-65]'
    ULC-30Q28-M:
        uplinkPorts:   'et-0/0/[16-29]'
        downlinkPorts: 'et-0/0/[0-15]' 
