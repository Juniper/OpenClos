{% if role == "spine" %}
interfaces {
    irb {
        delete:
        unit {{vlanId}};
    }
}

routing-instances {
    VRF_{{vrfName}} {
        delete:
        interface irb.{{vlanId}};        
    }
}
{% endif %}

vlans {
    delete:
    {{networkName}};
}

protocols {
    evpn {
        delete:
        extended-vni-list {{vnid}};
        vni-options {
            delete:
            vni {{vnid}};
        }
    }
}

policy-options {
    policy-statement LEAF-IN {
        delete:
        term a{{vnid}};
    }
    delete:
    community com{{vnid}};
}    

{% if role == "leaf" %}
interfaces {
    {% for (interface, networkCount, nativeVlanIdOrNone) in interfaces %}{{interface}} {
        {% if networkCount == 0%}
        delete:
        flexible-vlan-tagging;
        delete:
        encapsulation extended-vlan-bridge;
        delete:
        native-vlan-id;
        {% endif %}
        delete:
        unit {{vlanId}};
    }
    {% endfor %}
}
{% endif %}
